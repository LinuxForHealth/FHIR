<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="555px" preserveAspectRatio="none" style="width:948px;height:555px;" version="1.1" viewBox="0 0 948 555" width="948px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ofd6kgqm6ukm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4c29b0d07209b8b1e725ff88e37326b6]
cluster com.ibm.fhir.jbatch.bulkdata.export.patient--><polygon fill="#FFFFFF" filter="url(#f1ofd6kgqm6ukm)" points="14,137,360,137,367,159.2969,926,159.2969,926,515,14,515,14,137" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="367" y1="159.2969" y2="159.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="340" x="18" y="151.9951">com.ibm.fhir.jbatch.bulkdata.export.patient</text><!--MD5=[61fe05900995e506476dd9053fb879ec]
cluster javax.batch.api.chunk--><polygon fill="#FFFFFF" filter="url(#f1ofd6kgqm6ukm)" points="251,16,427,16,434,38.2969,437,38.2969,437,112,251,112,251,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="251" x2="434" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="170" x="255" y="30.9951">javax.batch.api.chunk</text><!--MD5=[dd702ba299ff838c61d7b9011e754e3e]
cluster javax.batch.api.partition--><polygon fill="#FFFFFF" filter="url(#f1ofd6kgqm6ukm)" points="705,16,899,16,906,38.2969,913,38.2969,913,112,705,112,705,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="705" x2="906" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="709" y="30.9951">javax.batch.api.partition</text><!--MD5=[78ea6fe79bf6adcb23ed684438458d23]
class com.ibm.fhir.jbatch.bulkdata.export.patient.ChunkReader--><a href="ChunkReader.html" target="_top" title="ChunkReader.html" xlink:actuate="onRequest" xlink:href="ChunkReader.html" xlink:show="new" xlink:title="ChunkReader.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f1ofd6kgqm6ukm)" height="342.5078" id="com.ibm.fhir.jbatch.bulkdata.export.patient.ChunkReader" style="stroke: #A80036; stroke-width: 1.5;" width="643" x="22.5" y="164"/><ellipse cx="297.75" cy="180" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M300.7188,185.6406 Q300.1406,185.9375 299.5,186.0781 Q298.8594,186.2344 298.1563,186.2344 Q295.6563,186.2344 294.3281,184.5938 Q293.0156,182.9375 293.0156,179.8125 Q293.0156,176.6875 294.3281,175.0313 Q295.6563,173.375 298.1563,173.375 Q298.8594,173.375 299.5,173.5313 Q300.1563,173.6875 300.7188,173.9844 L300.7188,176.7031 Q300.0938,176.125 299.5,175.8594 Q298.9063,175.5781 298.2813,175.5781 Q296.9375,175.5781 296.25,176.6563 Q295.5625,177.7188 295.5625,179.8125 Q295.5625,181.9063 296.25,182.9844 Q296.9375,184.0469 298.2813,184.0469 Q298.9063,184.0469 299.5,183.7813 Q300.0938,183.5 300.7188,182.9219 L300.7188,185.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="318.25" y="184.1543">ChunkReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="664.5" y1="196" y2="196"/><polygon fill="none" points="33.5,202,37.5,206,33.5,210,29.5,206" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="42.5" y="210.2104">pageNum: int</text><polygon fill="none" points="33.5,214.8047,37.5,218.8047,33.5,222.8047,29.5,218.8047" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="42.5" y="223.0151">pageSize: int</text><polygon fill="none" points="33.5,227.6094,37.5,231.6094,33.5,235.6094,29.5,231.6094" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="42.5" y="235.8198">fhirPersistence: FHIRPersistence</text><polygon fill="none" points="33.5,241.4141,29.5,247.4141,37.5,247.4141" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="42.5" y="248.6245">resourceType: Class&lt;? extends Resource&gt;</text><polygon fill="none" points="33.5,254.2188,29.5,260.2188,37.5,260.2188" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="617" x="42.5" y="261.4292">searchParametersForResoureTypes: Map&lt;Class&lt;? extends Resource&gt;, List&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;&gt;</text><polygon fill="none" points="33.5,267.0234,29.5,273.0234,37.5,273.0234" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="42.5" y="274.2339">loadedResourceIds: Set&lt;String&gt;</text><polygon fill="none" points="33.5,279.8281,29.5,285.8281,37.5,285.8281" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="42.5" y="287.0386">isDoDuplicationCheck: boolean</text><polygon fill="none" points="33.5,291.6328,37.5,295.6328,33.5,299.6328,29.5,295.6328" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="42.5" y="299.8433">fhirTenant: String</text><polygon fill="none" points="33.5,304.4375,37.5,308.4375,33.5,312.4375,29.5,308.4375" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="42.5" y="312.6479">fhirDatastoreId: String</text><polygon fill="none" points="33.5,317.2422,37.5,321.2422,33.5,325.2422,29.5,321.2422" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="42.5" y="325.4526">fhirResourceType: String</text><polygon fill="none" points="33.5,330.0469,37.5,334.0469,33.5,338.0469,29.5,334.0469" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="42.5" y="338.2573">fhirExportFormat: String</text><polygon fill="none" points="33.5,343.8516,29.5,349.8516,37.5,349.8516" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="42.5" y="351.062">fhirSearchFromDate: String</text><polygon fill="none" points="33.5,356.6563,29.5,362.6563,37.5,362.6563" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="42.5" y="363.8667">fhirSearchToDate: String</text><polygon fill="none" points="33.5,369.4609,29.5,375.4609,37.5,375.4609" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="42.5" y="376.6714">fhirSearchPageSize: String</text><polygon fill="none" points="33.5,382.2656,29.5,388.2656,37.5,388.2656" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="42.5" y="389.4761">fhirTypeFilters: String</text><polygon fill="none" points="33.5,395.0703,29.5,401.0703,37.5,401.0703" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="42.5" y="402.2808">stepCtx: StepContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="664.5" y1="408.875" y2="408.875"/><polygon fill="#FFFF44" points="33.5,414.875,37.5,418.875,33.5,422.875,29.5,418.875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="42.5" y="423.0854">fillChunkDataBuffer(List&lt;String&gt;): void</text><polygon fill="#FFFF44" points="33.5,427.6797,37.5,431.6797,33.5,435.6797,29.5,431.6797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="42.5" y="435.8901">fillChunkPatientDataBuffer(List&lt;Resource&gt;): void</text><polygon fill="#FFFF44" points="33.5,440.4844,37.5,444.4844,33.5,448.4844,29.5,444.4844" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="42.5" y="448.6948">fillChunkData(List&lt;Resource&gt;, List&lt;String&gt;): void</text><ellipse cx="33.5" cy="458.2891" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="42.5" y="461.4995">readItem(): Object</text><ellipse cx="33.5" cy="471.0938" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="42.5" y="474.3042">open(Serializable): void</text><ellipse cx="33.5" cy="483.8984" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="42.5" y="487.1089">close(): void</text><ellipse cx="33.5" cy="496.7031" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="42.5" y="499.9136">checkpointInfo(): Serializable</text></a><!--MD5=[b5a1c72fd619d4cb42b22ad03c0a4f8b]
class com.ibm.fhir.jbatch.bulkdata.export.patient.PatientExportPartitionMapper--><a href="PatientExportPartitionMapper.html" target="_top" title="PatientExportPartitionMapper.html" xlink:actuate="onRequest" xlink:href="PatientExportPartitionMapper.html" xlink:show="new" xlink:title="PatientExportPartitionMapper.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f1ofd6kgqm6ukm)" height="73.6094" id="com.ibm.fhir.jbatch.bulkdata.export.patient.PatientExportPartitionMapper" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="700.5" y="298.5"/><ellipse cx="715.5" cy="314.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718.4688,320.1406 Q717.8906,320.4375 717.25,320.5781 Q716.6094,320.7344 715.9063,320.7344 Q713.4063,320.7344 712.0781,319.0938 Q710.7656,317.4375 710.7656,314.3125 Q710.7656,311.1875 712.0781,309.5313 Q713.4063,307.875 715.9063,307.875 Q716.6094,307.875 717.25,308.0313 Q717.9063,308.1875 718.4688,308.4844 L718.4688,311.2031 Q717.8438,310.625 717.25,310.3594 Q716.6563,310.0781 716.0313,310.0781 Q714.6875,310.0781 714,311.1563 Q713.3125,312.2188 713.3125,314.3125 Q713.3125,316.4063 714,317.4844 Q714.6875,318.5469 716.0313,318.5469 Q716.6563,318.5469 717.25,318.2813 Q717.8438,318 718.4688,317.4219 L718.4688,320.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="185" x="729.5" y="318.6543">PatientExportPartitionMapper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="701.5" x2="916.5" y1="330.5" y2="330.5"/><polygon fill="none" points="711.5,337.5,707.5,343.5,715.5,343.5" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="720.5" y="344.7104">fhirResourceType: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="701.5" x2="916.5" y1="351.3047" y2="351.3047"/><ellipse cx="711.5" cy="362.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="720.5" y="365.5151">mapPartitions(): PartitionPlan</text></a><!--MD5=[f5f528b51f1c46550a0d517e968fc43d]
class javax.batch.api.chunk.AbstractItemReader--><rect fill="#FEFECE" filter="url(#f1ofd6kgqm6ukm)" height="60.8047" id="javax.batch.api.chunk.AbstractItemReader" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="265.5" y="43"/><ellipse cx="280.5" cy="59" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M280.6094,54.3438 L279.4531,59.4219 L281.7813,59.4219 L280.6094,54.3438 Z M279.125,52.1094 L282.1094,52.1094 L285.4688,64.5 L283.0156,64.5 L282.25,61.4375 L278.9688,61.4375 L278.2188,64.5 L275.7813,64.5 L279.125,52.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="125" x="294.5" y="63.1543">AbstractItemReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="266.5" x2="421.5" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="266.5" x2="421.5" y1="83" y2="83"/><ellipse cx="276.5" cy="94" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="285.5" y="97.2104">readItem(): Object</text><!--MD5=[349d5de3748636f0f75f09a8b175f4bb]
class javax.batch.api.partition.PartitionMapper--><rect fill="#FEFECE" filter="url(#f1ofd6kgqm6ukm)" height="60.8047" id="javax.batch.api.partition.PartitionMapper" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="713" y="43"/><ellipse cx="755" cy="59" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M750.9219,54.7656 L750.9219,52.6094 L758.3125,52.6094 L758.3125,54.7656 L755.8438,54.7656 L755.8438,62.8438 L758.3125,62.8438 L758.3125,65 L750.9219,65 L750.9219,62.8438 L753.3906,62.8438 L753.3906,54.7656 L750.9219,54.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="775" y="63.1543">PartitionMapper</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="714" x2="904" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="714" x2="904" y1="83" y2="83"/><ellipse cx="724" cy="94" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="166" x="733" y="97.2104">mapPartitions(): PartitionPlan</text><!--MD5=[ec49582dd170cffbeae9a387e6d9b40e]
reverse link javax.batch.api.chunk.AbstractItemReader to com.ibm.fhir.jbatch.bulkdata.export.patient.ChunkReader--><path d="M344,124.455 C344,136.4002 344,149.7852 344,163.8654 " fill="none" id="javax.batch.api.chunk.AbstractItemReader&lt;-com.ibm.fhir.jbatch.bulkdata.export.patient.ChunkReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="337.0001,124.0675,344,104.0675,351.0001,124.0675,337.0001,124.0675" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5da6605125a4378da5d26d293e3c5050]
reverse link javax.batch.api.partition.PartitionMapper to com.ibm.fhir.jbatch.bulkdata.export.patient.PatientExportPartitionMapper--><path d="M809,124.1548 C809,175.2132 809,252.8008 809,298.3984 " fill="none" id="javax.batch.api.partition.PartitionMapper&lt;-com.ibm.fhir.jbatch.bulkdata.export.patient.PatientExportPartitionMapper" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="802.0001,124.0675,809,104.0675,816.0001,124.0675,802.0001,124.0675" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="383" y="542.2822">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[276f6fba30e283fec040b6807d7f04a7]
@startuml
    namespace com.ibm.fhir.jbatch.bulkdata.export.patient {

        class ChunkReader [[ChunkReader.html]] {
            #pageNum: int
            #pageSize: int
            #fhirPersistence: FHIRPersistence
            ~resourceType: Class<? extends Resource>
            ~searchParametersForResoureTypes: Map<Class<? extends Resource>, List<Map<String, List<String>>>>
            ~loadedResourceIds: Set<String>
            ~isDoDuplicationCheck: boolean
            #fhirTenant: String
            #fhirDatastoreId: String
            #fhirResourceType: String
            #fhirExportFormat: String
            ~fhirSearchFromDate: String
            ~fhirSearchToDate: String
            ~fhirSearchPageSize: String
            ~fhirTypeFilters: String
            ~stepCtx: StepContext
            #fillChunkDataBuffer(List<String>): void
            #fillChunkPatientDataBuffer(List<Resource>): void
            #fillChunkData(List<Resource>, List<String>): void
            +readItem(): Object
            +open(Serializable): void
            +close(): void
            +checkpointInfo(): Serializable
        }

        class PatientExportPartitionMapper [[PatientExportPartitionMapper.html]] {
            ~fhirResourceType: String
            +mapPartitions(): PartitionPlan
        }

        javax.batch.api.chunk.AbstractItemReader <|- - ChunkReader
        javax.batch.api.partition.PartitionMapper <|.. PatientExportPartitionMapper
    }

    namespace javax.batch.api.chunk {
        abstract class AbstractItemReader {
            {abstract} +readItem(): Object
        }
    }

    namespace javax.batch.api.partition {
        interface PartitionMapper {
            {abstract} +mapPartitions(): PartitionPlan
        }
    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>