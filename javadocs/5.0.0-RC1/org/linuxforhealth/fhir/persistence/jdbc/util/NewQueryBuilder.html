<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.16) on Thu Aug 18 02:16:15 UTC 2022 -->
<title>NewQueryBuilder (LinuxForHealth FHIR Server)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-08-18">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NewQueryBuilder (LinuxForHealth FHIR Server)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NewQueryBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><a href="/FHIR" class="bx--header__name" target="_parent"><span>LinuxForHealth</span>&nbsp;FHIR®&nbsp;Server</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../index.html?org/linuxforhealth/fhir/persistence/jdbc/util/NewQueryBuilder.html" target="_top">Frames</a></li>
<li><a href="NewQueryBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.linuxforhealth.fhir.persistence.jdbc.util</a></div>
<h2 title="Class NewQueryBuilder" class="title">Class NewQueryBuilder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.linuxforhealth.fhir.persistence.jdbc.util.NewQueryBuilder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">NewQueryBuilder</span>
extends java.lang.Object</pre>
<div class="block">This is the JDBC implementation of a query builder for the IBM FHIR Server
 JDBC persistence layer schema.
 The builder constructs an intermediate "domain" model of the query (which isn't
 concerned about the intricacies of how to join two tables). This domain query
 is then translated in a Select statement model which can be built piece by piece.
 The statement is then rendered into a string which is the SQL select statement
 executed by the database.
 <br>
 This approach improves maintainability by separating the logical structure
 of the query from the physical join syntax.
 <br>
 <br>
 Useful table reference:<br>

 <pre>
 ------------------------
 PARAMETER_NAMES        reference table of parameter names
 RESOURCE_TYPES         reference table of resource type names
 COMMON_TOKEN_VALUES    normalized set of token values
 CODE_SYSTEMS           normalized set of code-system values
 LOGICAL_RESOURCES      whole-system table of resources
 xx_LOGICAL_RESOURCES   resource-specific table of logical resources
 xx_RESOURCES           resource-specific table of resource versions
 xx_STR_VALUES          string search parameters belonging to a resource
 xx_RESOURCE_TOKEN_REFS map table connecting a given resource to a set of token values
 xx_NUMBER_VALUES       number search parameters belonging to a resource
 xx_DATE_VALUES         date search parameters belonging to a resource
 xx_LATLNG_VALUES       lat/lng search parameters belonging to a resource
 xx_QUANTITY_VALUES     quantity search parameters belonging to a resource
 xx_TOKEN_VALUES_V      view hiding the join between xx_RESOURCE_TOKEN_REFS and COMMON_TOKEN_VALUES
 </pre>
 Useful column reference:<br>

 <pre>
 ------------------------
 RESOURCE_TYPE_NAME     the formal name of the resource type e.g. 'Patient'
 RESOURCE_TYPE_ID       FK to the RESOURCE_TYPES table
 LOGICAL_ID             the VARCHAR holding the logical-id of the resource. Unique for a given resource type
 LOGICAL_RESOURCE_ID    the database BIGINT
 CURRENT_RESOURCE_ID    the unique BIGINT id of the latest resource version for the logical resource
 VERSION_ID             INT resource version number incrementing by 1
 IS_DELETED             CHAR(1) flag indicating the current deletion status of the resource or resource-version.
 RESOURCE_ID            the PK of the version-specific resource. Now only used as the target for CURRENT_RESOURCE_ID
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.linuxforhealth.fhir.database.utils.api.IDatabaseTranslator,org.linuxforhealth.fhir.persistence.jdbc.connection.QueryHints,org.linuxforhealth.fhir.persistence.jdbc.dao.api.JDBCIdentityCache)">NewQueryBuilder</a></span>&#8203;(<a href="../../../database/utils/api/IDatabaseTranslator.html" title="interface in org.linuxforhealth.fhir.database.utils.api">IDatabaseTranslator</a>&nbsp;translator,
               <a href="../connection/QueryHints.html" title="interface in org.linuxforhealth.fhir.persistence.jdbc.connection">QueryHints</a>&nbsp;queryHints,
               <a href="../dao/api/JDBCIdentityCache.html" title="interface in org.linuxforhealth.fhir.persistence.jdbc.dao.api">JDBCIdentityCache</a>&nbsp;identityCache)</code></th>
<td class="colLast">
<div class="block">Public constructor</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildCountQuery(java.lang.Class,org.linuxforhealth.fhir.search.context.FHIRSearchContext,org.linuxforhealth.fhir.database.utils.api.SchemaType)">buildCountQuery</a></span>&#8203;(java.lang.Class&lt;?&gt;&nbsp;resourceType,
               <a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
               <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)</code></th>
<td class="colLast">
<div class="block">Builds a query that returns the count of the search results that would be
 found by applying the search parameters
 contained within the passed search context.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildIncludeQuery(java.lang.Class,org.linuxforhealth.fhir.search.context.FHIRSearchContext,org.linuxforhealth.fhir.search.parameters.InclusionParameter,java.util.List,java.lang.String,org.linuxforhealth.fhir.database.utils.api.SchemaType)">buildIncludeQuery</a></span>&#8203;(java.lang.Class&lt;?&gt;&nbsp;resourceType,
                 <a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
                 <a href="../../../search/parameters/InclusionParameter.html" title="class in org.linuxforhealth.fhir.search.parameters">InclusionParameter</a>&nbsp;inclusionParm,
                 java.util.List&lt;java.lang.Long&gt;&nbsp;logicalResourceIds,
                 java.lang.String&nbsp;inclusionType,
                 <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)</code></th>
<td class="colLast">
<div class="block">Builds a query that returns included resources.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildQuery(java.lang.Class,org.linuxforhealth.fhir.search.context.FHIRSearchContext,org.linuxforhealth.fhir.database.utils.api.SchemaType)">buildQuery</a></span>&#8203;(java.lang.Class&lt;?&gt;&nbsp;resourceType,
          <a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
          <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)</code></th>
<td class="colLast">
<div class="block">Construct a FHIR search query</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildWholeSystemDataQuery(org.linuxforhealth.fhir.search.context.FHIRSearchContext,java.util.Map,org.linuxforhealth.fhir.database.utils.api.SchemaType)">buildWholeSystemDataQuery</a></span>&#8203;(<a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
                         java.util.Map&lt;java.lang.Integer,&#8203;java.util.List&lt;java.lang.Long&gt;&gt;&nbsp;resourceTypeIdToLogicalResourceIdMap,
                         <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)</code></th>
<td class="colLast">
<div class="block">Builds a query that returns resource data for the specified whole-system search.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOperator(org.linuxforhealth.fhir.search.parameters.QueryParameter)">getOperator</a></span>&#8203;(<a href="../../../search/parameters/QueryParameter.html" title="class in org.linuxforhealth.fhir.search.parameters">QueryParameter</a>&nbsp;queryParm)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOperator(org.linuxforhealth.fhir.search.parameters.QueryParameter,java.lang.String)">getOperator</a></span>&#8203;(<a href="../../../search/parameters/QueryParameter.html" title="class in org.linuxforhealth.fhir.search.parameters">QueryParameter</a>&nbsp;queryParm,
           java.lang.String&nbsp;defaultOverride)</code></th>
<td class="colLast">
<div class="block">Map the Modifier in the passed Parameter to a supported query operator.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.linuxforhealth.fhir.database.utils.api.IDatabaseTranslator,org.linuxforhealth.fhir.persistence.jdbc.connection.QueryHints,org.linuxforhealth.fhir.persistence.jdbc.dao.api.JDBCIdentityCache)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NewQueryBuilder</h4>
<pre>public&nbsp;NewQueryBuilder&#8203;(<a href="../../../database/utils/api/IDatabaseTranslator.html" title="interface in org.linuxforhealth.fhir.database.utils.api">IDatabaseTranslator</a>&nbsp;translator,
                       <a href="../connection/QueryHints.html" title="interface in org.linuxforhealth.fhir.persistence.jdbc.connection">QueryHints</a>&nbsp;queryHints,
                       <a href="../dao/api/JDBCIdentityCache.html" title="interface in org.linuxforhealth.fhir.persistence.jdbc.dao.api">JDBCIdentityCache</a>&nbsp;identityCache)</pre>
<div class="block">Public constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>translator</code> - </dd>
<dd><code>queryHints</code> - </dd>
<dd><code>identityCache</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="buildCountQuery(java.lang.Class,org.linuxforhealth.fhir.search.context.FHIRSearchContext,org.linuxforhealth.fhir.database.utils.api.SchemaType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildCountQuery</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a>&nbsp;buildCountQuery&#8203;(java.lang.Class&lt;?&gt;&nbsp;resourceType,
                              <a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
                              <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)
                       throws java.lang.Exception</pre>
<div class="block">Builds a query that returns the count of the search results that would be
 found by applying the search parameters
 contained within the passed search context.

 The count query is a simpler version of the main search query because
 there's no need to join against the xx_RESOURCES table at the end because
 the DATA column is not needed. This is now possible because the IS_DELETED
 flag is now denormalized and stored at the xx_LOGICAL_RESOURCES level as
 well as per resource version (in the xx_RESOURCES table).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resourceType</code> - - The type of resource being searched for.</dd>
<dd><code>searchContext</code> - - The search context containing the search parameters.</dd>
<dd><code>schemaType</code> - - The type of schema we are querying (PLAIN, DISTRIBUTED etc)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String - A count query SQL statement</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="buildQuery(java.lang.Class,org.linuxforhealth.fhir.search.context.FHIRSearchContext,org.linuxforhealth.fhir.database.utils.api.SchemaType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildQuery</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a>&nbsp;buildQuery&#8203;(java.lang.Class&lt;?&gt;&nbsp;resourceType,
                         <a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
                         <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)
                  throws java.lang.Exception</pre>
<div class="block">Construct a FHIR search query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resourceType</code> - </dd>
<dd><code>searchContext</code> - </dd>
<dd><code>schemaType</code> - - The type of schema we are querying (PLAIN, DISTRIBUTED etc)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="buildIncludeQuery(java.lang.Class,org.linuxforhealth.fhir.search.context.FHIRSearchContext,org.linuxforhealth.fhir.search.parameters.InclusionParameter,java.util.List,java.lang.String,org.linuxforhealth.fhir.database.utils.api.SchemaType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildIncludeQuery</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a>&nbsp;buildIncludeQuery&#8203;(java.lang.Class&lt;?&gt;&nbsp;resourceType,
                                <a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
                                <a href="../../../search/parameters/InclusionParameter.html" title="class in org.linuxforhealth.fhir.search.parameters">InclusionParameter</a>&nbsp;inclusionParm,
                                java.util.List&lt;java.lang.Long&gt;&nbsp;logicalResourceIds,
                                java.lang.String&nbsp;inclusionType,
                                <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)
                         throws java.lang.Exception</pre>
<div class="block">Builds a query that returns included resources.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resourceType</code> - - the type of resource being searched for.</dd>
<dd><code>searchContext</code> - - the search context containing the search parameters.</dd>
<dd><code>inclusionParm</code> - - the inclusion parameter for which the query is being built.</dd>
<dd><code>ids</code> - - the list of logical resource IDs the query will run against.</dd>
<dd><code>inclusionType</code> - - either INCLUDE or REVINCLUDE.</dd>
<dd><code>schemaType</code> - - The type of schema we are querying (PLAIN, DISTRIBUTED etc)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Select the query to fetch the matching list of included resources</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="buildWholeSystemDataQuery(org.linuxforhealth.fhir.search.context.FHIRSearchContext,java.util.Map,org.linuxforhealth.fhir.database.utils.api.SchemaType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildWholeSystemDataQuery</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../database/utils/query/Select.html" title="class in org.linuxforhealth.fhir.database.utils.query">Select</a>&nbsp;buildWholeSystemDataQuery&#8203;(<a href="../../../search/context/FHIRSearchContext.html" title="interface in org.linuxforhealth.fhir.search.context">FHIRSearchContext</a>&nbsp;searchContext,
                                        java.util.Map&lt;java.lang.Integer,&#8203;java.util.List&lt;java.lang.Long&gt;&gt;&nbsp;resourceTypeIdToLogicalResourceIdMap,
                                        <a href="../../../database/utils/api/SchemaType.html" title="enum in org.linuxforhealth.fhir.database.utils.api">SchemaType</a>&nbsp;schemaType)
                                 throws java.lang.Exception</pre>
<div class="block">Builds a query that returns resource data for the specified whole-system search.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>searchContext</code> - - the search context.</dd>
<dd><code>resourceTypeIdToLogicalResourceIdMap</code> - - map of resource type Ids to logical resource Ids</dd>
<dd><code>schemaType</code> - - The type of schema we are querying (PLAIN, DISTRIBUTED etc)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Select the query to fetch the specified list of resources</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="getOperator(org.linuxforhealth.fhir.search.parameters.QueryParameter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOperator</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;getOperator&#8203;(<a href="../../../search/parameters/QueryParameter.html" title="class in org.linuxforhealth.fhir.search.parameters">QueryParameter</a>&nbsp;queryParm)</pre>
</li>
</ul>
<a id="getOperator(org.linuxforhealth.fhir.search.parameters.QueryParameter,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOperator</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;getOperator&#8203;(<a href="../../../search/parameters/QueryParameter.html" title="class in org.linuxforhealth.fhir.search.parameters">QueryParameter</a>&nbsp;queryParm,
                                       java.lang.String&nbsp;defaultOverride)</pre>
<div class="block">Map the Modifier in the passed Parameter to a supported query operator. If
 the mapping results in the default
 operator, override the default operator with the passed operator if the
 passed operator is not null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>queryParm</code> - - A valid query Parameter.</dd>
<dd><code>defaultOverride</code> - - An operator that should override the default
                        operator.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A supported operator.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NewQueryBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
</ul>
<div class="aboutLanguage"><a href="/FHIR" class="bx--header__name" target="_parent"><span>LinuxForHealth</span>&nbsp;FHIR®&nbsp;Server</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../index.html?org/linuxforhealth/fhir/persistence/jdbc/util/NewQueryBuilder.html" target="_top">Frames</a></li>
<li><a href="NewQueryBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright 2019, 2022. <a href="http://www.ibm.com">IBM Corporation</a><br/>FHIR&reg; is the registered trademark of HL7 and is used with the permission of HL7.</small></p>
</footer>
</body>
</html>
