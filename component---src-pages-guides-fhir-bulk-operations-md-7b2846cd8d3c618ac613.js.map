{"version":3,"sources":["webpack:///./src/pages/guides/FHIRBulkOperations.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutPropertiesLoose","Object","_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__","_extends","mdxType","parentName","align","href","className","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-fhir-bulk-operations-md-7b2846cd8d3c618ac613.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/paulbastide/git/wffh/FHIR/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1>{`Overview`}</h1>\n    <p>{`The IBM FHIR Server has extended operations for Bulk Data `}<inlineCode parentName=\"p\">{`$import`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`$export`}</inlineCode>{`, which are implemented in the modules: `}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Module`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/IBM/FHIR/tree/master/fhir-operation-bulkdata\"\n            }}>{`fhir-operation-bulkdata`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Implements the FHIR Operations `}<inlineCode parentName=\"td\">{`$import`}</inlineCode>{` and `}<inlineCode parentName=\"td\">{`$export`}</inlineCode>{` and translate bulk data requests into JSR352 Java Batch jobs`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/IBM/FHIR/tree/master/fhir-bulkimportexport-webapp\"\n            }}>{`fhir-bulkimportexport-webapp`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Standalone web application to process bulk data requests as JSR352 Java Batch jobs`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`The IBM FHIR Server bulk data module configuration is described in more detail at the `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm.github.io/FHIR/guides/FHIRServerUsersGuide/#410-bulk-data-operations\"\n      }}>{`FHIR Server Users Guide`}</a>{`.`}</p>\n    <h2>{`Export Operation: $export`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`$export`}</inlineCode>{` operation uses three OperationDefinition: `}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://hl7.org/fhir/uv/bulkdata/STU1/OperationDefinition-export.html\"\n        }}>{`System`}</a>{` - Export data from the server. Exports to an S3-compatible data store.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://hl7.org/fhir/uv/bulkdata/STU1/OperationDefinition-patient-export.html\"\n        }}>{`Patient`}</a>{` - Obtain a set of resources pertaining to all patients. Exports to an S3-compatible data store.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://hl7.org/fhir/uv/bulkdata/STU1/OperationDefinition-group-export.html\"\n        }}>{`Group`}</a>{` - Obtain a set of resources pertaining to patients in a specific Group. Only supports static membership; does not resolve inclusion/exclusion criteria.`}</li>\n    </ul>\n    <h3><strong parentName=\"h3\">{`$export: Create a Bulk Data Request`}</strong></h3>\n    <p>{`To create an import request, the IBM FHIR Server requires the body fields of the request object to be a FHIR Resource `}<inlineCode parentName=\"p\">{`Parameters`}</inlineCode>{` JSON Object.  The request must be posted to the server using `}<inlineCode parentName=\"p\">{`POST`}</inlineCode>{`. Each request is limited to a single resource type in each imported or referenced file.`}</p>\n    <h4>{`Example Request - GET`}</h4>\n    <p>{`The following is a request to export data to the IBM COS endpoint from the IBM FHIR Server using GET.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -k -u \"fhiruser:change-password\" -H \"Content-Type: application/fhir+json\" -X GET 'https://localhost:9443/fhir-server/api/v4/$export?_outputFormat=application/fhir%2Bndjson&_type=Patient' -v\n`}</code></pre>\n    <h4>{`Example Request - POST`}</h4>\n    <p>{`The following is a request to export data to the IBM COS endpoint from the IBM FHIR Server using POST and FHIR Resource Parameters.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -k -u \"fhiruser:change-password\" -H \"Content-Type: application/fhir+json\" -X POST 'https://localhost:9443/fhir-server/api/v4/$export' -d '{\n    \"resourceType\": \"Parameters\",\n    \"id\": \"e33a6a4e-29b5-4f62-a3e9-8d09f50ae54d\",\n    \"parameter\": [\n        {\n            \"name\": \"_outputFormat\",\n            \"valueString\": \"application/fhir+ndjson\"\n        },\n        {\n            \"name\": \"_since\",\n            \"valueInstant\": \"2019-01-01T08:21:26.94-04:00\"\n        },\n        {\n            \"name\": \"_type\",\n            \"valueString\": \"Observation,Condition\"\n        }\n    ]\n}'\n`}</code></pre>\n    <h2>{`Import Operation: $import`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`$import`}</inlineCode>{` operation is a system-level operation invoked at `}<inlineCode parentName=\"p\">{`[base]/$import`}</inlineCode>{`. The Import Operation uses a custom crafted OperationDefinition `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/IBM/FHIR/blob/master/fhir-operation-bulkdata/src/main/resources/import.json\"\n      }}>{`link`}</a>{`, which follows the proposal from `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/smart-on-fhir/bulk-import/blob/master/import.md\"\n      }}>{`Smart-on-FHIR: import.md`}</a>{`.`}</p>\n    <h3><strong parentName=\"h3\">{`$import: Create a Bulk Data Request`}</strong></h3>\n    <p>{`To create an import request, the IBM FHIR Server requires the body fields of the request object to be a FHIR Resource `}<inlineCode parentName=\"p\">{`Parameters`}</inlineCode>{` JSON Object.  The request must be posted to the server using `}<inlineCode parentName=\"p\">{`POST`}</inlineCode>{`. Each input url in the request is limited to a single resource type.`}</p>\n    <p>{`The IBM FHIR Server limits the number of inputs per each `}<inlineCode parentName=\"p\">{`$import`}</inlineCode>{` request based on `}<inlineCode parentName=\"p\">{`fhirServer/bulkdata/maxInputPerRequest`}</inlineCode>{`, which defaults to 5 input entries.`}</p>\n    <p>{`The IBM FHIR Server supports `}<inlineCode parentName=\"p\">{`storageDetail.type`}</inlineCode>{` with the value of `}<inlineCode parentName=\"p\">{`ibm-cos`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`https`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`aws-s3`}</inlineCode>{`.\nTo import using the $import on https, one must additionally configure the fhirServer/bulkdata/validBaseUrls. For example, if one stores bulkdata on `}<a parentName=\"p\" {...{\n        \"href\": \"https://test-url.ibm.com/folder1\"\n      }}>{`https://test-url.ibm.com/folder1`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://test-url.ibm.com/folder2\"\n      }}>{`https://test-url.ibm.com/folder2`}</a>{` you must specify both baseUrls. Please refer to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm.github.io/FHIR/guides/FHIRServerUsersGuide#410-bulk-data-operations\"\n      }}>{`IBM FHIR Server User’s Guide`}</a></p>\n    <p>{`Please note, the BulkData Operations do not support import from `}<inlineCode parentName=\"p\">{`http://`}</inlineCode>{`.`}</p>\n    <h4>{`Example Request`}</h4>\n    <p>{`The following is a request to load data from the IBM COS endpoint into the IBM FHIR Server.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -k -v -X POST -u \"fhiruser:change-password\" -H 'Content-Type: application/fhir+json' 'https://localhost:9443/fhir-server/api/v4/$import' -d '{\n    \"resourceType\": \"Parameters\",\n    \"id\": \"30321130-5032-49fb-be54-9b8b82b2445a\",\n    \"parameter\": [\n        {\n            \"name\": \"inputFormat\",\n            \"valueString\": \"application/fhir+ndjson\"\n        },\n        {\n            \"name\": \"inputSource\",\n            \"valueUri\": \"https://localhost:9443/source-fhir-server\"\n        },\n        {\n            \"name\": \"input\",\n            \"part\": [\n                {\n                    \"name\": \"type\",\n                    \"valueString\": \"Patient\"\n                },\n                {\n                    \"name\": \"url\",\n                    \"valueUrl\": \"test-import.ndjson\"\n                }\n            ]\n        },\n        {\n            \"name\": \"storageDetail\",\n            \"valueString\": \"ibm-cos\"\n        }\n    ]\n}'\n`}</code></pre>\n    <h4>{`Example Response`}</h4>\n    <p>{`The response body is populated only on error, the response status code is 202 and the `}<inlineCode parentName=\"p\">{`content-location`}</inlineCode>{` is populated with the polling location in a response header:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`Content-Location: https://localhost:9443/fhir-server/api/v4/$bulkdata-status?job=JKyViJ5Y0zcqQ2Uv1aBSMw%3D%3D\n`}</code></pre>\n    <h2>{`Status Operation: $bulkdata-status`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`StatusOperation`}</inlineCode>{` is a BulkData Management endpoint, which uses the `}<inlineCode parentName=\"p\">{`Content-Location`}</inlineCode>{`’s http query parameter value for job to manage the Bulk Data job request.`}</p>\n    <p>{`There are two custom features - `}<em parentName=\"p\">{`Poll Job`}</em>{` and `}<em parentName=\"p\">{`Delete Job`}</em>{`.`}</p>\n    <h3><strong parentName=\"h3\">{`$bulkdata-status: Poll Job`}</strong></h3>\n    <p>{`The response returned is 202 if the job is queued or not yet complete.`}</p>\n    <p>{`Note: If the job is stopped, e.g, due to shutdown of the IBM FHIR Server where the job is running the bulkdata job, then upon polling the status of the bulkdata job, the server restarts the JavaBatch job, and the response to the client is Accepted: 202.\nThe response returned is 200 if the job is completed.`}</p>\n    <h4>{`Example`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Request`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -k -v -u \"fhiruser:change-password\" 'https://localhost:9443/fhir-server/api/v4/$bulkdata-status?job=FvHrLGPv0oKZNyLzBnY5iA%3D%3D'\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Response for `}<inlineCode parentName=\"p\">{`$import`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`$export`}</inlineCode>{` not yet complete\nThe response code is 202.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Response for $export upon completion`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`{\n\"transactionTime\": \"2020/01/20 16:53:41.160 -0500\",\n\"request\": \"/$export?_type=Patient\",\n\"requiresAccessToken\": false,\n\"output\" : [\n  { \"type\" : \"AllergyIntolerance\",\n      \"url\": \"https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/AllergyIntolerance_1.ndjson\",\n    \"count\": 20},\n  { \"type\" : \"AllergyIntolerance\",\n      \"url\": \"https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/AllergyIntolerance_2.ndjson\",\n    \"count\": 8},\n  { \"type\" : \"Observation\",\n      \"url\": \"https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/Observation_1.ndjson\",\n    \"count\": 234},\n  { \"type\" : \"Observation\",\n      \"url\": \"https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-bulkimexport-connectathon/6SfXzbGvYl1nTjGbf5qeqJDFNjyljiGdKxXEJb4yJn8=/Observation_2.ndjson\",\n    \"count\": 81}]\n}\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Response for $import upon completion`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`{\n    \"transactionTime\": \"2020-04-28T13:13:01.366-04:00\",\n    \"request\": \"$import\",\n    \"requiresAccessToken\": false,\n    \"output\": [\n        {\n            \"type\": \"OperationOutcome\",\n            \"url\": \"test-import.ndjson_oo_success.ndjson\",\n            \"count\": 3\n        }\n    ],\n    \"error\": [\n        {\n            \"type\": \"OperationOutcome\",\n            \"url\": \"test-import.ndjson_oo_errors.ndjson\",\n            \"count\": 0\n        }\n    ]\n}\n`}</code></pre>\n    <h3><strong parentName=\"h3\">{`$bulkdata-status: Delete Job`}</strong></h3>\n    <p>{`The Bulk Data Request is deleted using the Content-Location and executing the `}<inlineCode parentName=\"p\">{`DELETE`}</inlineCode>{` method. The deletion of a job is asynchronous - the job is stopped and subsequently deleted.  The data is not cleaned up from the destination storage location - e.g. partially imported data or partially exported data is not cleaned up. `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Request`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-sh\"\n      }}>{`curl -k -v -u \"fhiruser:change-password\" -X DELETE 'https://localhost:9443/fhir-server/api/v4/$bulkdata-status?job=k%2Fd8cTAU%2BUeVEwqURPZ3oA%3D%3D'\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Response\nThe response returned is 202 if the job deletion is not yet complete.\nThe response returned is 200 if the job deletion is completed.`}</li>\n    </ul>\n    <h2>{`Notes`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`For status codes, if there is an error on the server a 500 is returned, or if there is a client request error, a 400 is returned. `}</li>\n      <li parentName=\"ol\">{`There are integration tests which exercise the various features of the Bulk Data Operations - `}<inlineCode parentName=\"li\">{`ImportOperationTest`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`ExportOperationTest`}</inlineCode>{`.  These integration tests are useful for testing the IBM FHIR Server, and may be useful for developers wanting to build their own tests. `}</li>\n      <li parentName=\"ol\">{`Depending on the access policy of your export location, one may download the content using a command like `}<inlineCode parentName=\"li\">{`curl -o Patient_1.ndjson https://s3.us-south.cloud-object-storage.appdomain.cloud/fhir-r4-connectathon/path-path/Patient_1.ndjson`}</inlineCode>{`.`}</li>\n      <li parentName=\"ol\">{`The use of Basic Authentication `}<inlineCode parentName=\"li\">{`fhiruser:change-password`}</inlineCode>{` is expected to be changed to match your environment authentication routine.`}</li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}