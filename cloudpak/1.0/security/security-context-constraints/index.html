<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>SecurityContextConstraints Requirements - IBM FHIR Server - 1.1.0</title>
<meta name="description" content="FHIR Server Documents">

<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM FHIR Server - 1.1.0">
<meta property="og:url" content="https://ibm.github.io/FHIR/cloudpak/1.0/security/security-context-constraints/" />
<meta property="og:title" content="Documentation | SecurityContextConstraints Requirements" />
<meta property="og:description" content="FHIR Server Documents" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="IBM Event Streams | SecurityContextConstraints Requirements" />




  <meta property="og:description" content="FHIR Server Documents">



  <meta property="og:image" content="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/appIcon_og_fb.png">
  <meta name="twitter:image" content="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/appIcon_og_square.png">



  <meta property="article:published_time" content="2021-03-31T10:33:22-04:00">






<link rel="canonical" href="https://ibm.github.io/FHIR/cloudpak/1.0/security/security-context-constraints/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://ibm.github.io/FHIR/cloudpak",
      "logo": "https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/appIcon_og_fb.png"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "IBM",
      "url": "https://ibm.github.io/FHIR/cloudpak",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/FHIR/cloudpak/feed.xml" type="application/atom+xml" rel="alternate" title="IBM FHIR Server - 1.1.0 Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/FHIR/cloudpak/assets/css/main.css">



<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="shortcut icon" type="image/png" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/favicon.ico"/>
<link rel="shortcut icon" type="image/png" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/fhir-icon-16.png"/>
<link rel="shortcut icon" type="image/png" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/fhir-icon3.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/fhir-icon3.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/fhir-icon-16.png">
<link rel="manifest" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/site.webmanifest">
<link rel="mask-icon" href="https://ibm.github.io/FHIR/cloudpak/assets/siteMeta/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#000000">

<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600%7CIBM+Plex+Serif:300,400,500%7CIBM+Plex+Mono:300,400,500,700" rel="stylesheet">

<!-- end custom head snippets -->

    <link rel="shortcut icon" type="image/x-icon" href="/FHIR/cloudpak/assets/favicon.ico" >
    
    <base target="_parent">

  </head>
  <script src="/FHIR/cloudpak/assets/animation/lottie.js" type="text/javascript"></script>
  <script src="/FHIR/cloudpak/assets/js/connectors.js"></script>


  
  <body onload="urlChecker()" class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    




 <div id="masthead" class="masthead">
  <div class="masthead__goToIBMCloud">
 <!-- <div>
    You are viewing the documentation for the container-native version of IBM FHIR Server.
  </div> 
   <a class="link" target="_self" href="https://www.ibm.com/products/fhir-server">Looking for the managed service on IBM Cloud? Click here.</a> -->
</div> 
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="mastheadNav">

      


        <div class="mastheadTitle">
          
          <a class="site-title" href="/FHIR/cloudpak/" target="_self"><span>IBM</span>&nbsp;FHIR® Server</a>
          <div class="viewOnIBMcom">
            <a href="https://www.ibm.com/products/fhir-server" target="_blank">View product page</a>
          </div>
        </div>









        <div class="mastheadControls">
            <div class="menuScrollContainer">

        

                <ul id="visible-links" class="visible-links">
                  
                  
                  

                  




                  
                    <li class="masthead__menu-item active" onclick="window.open('https://ibm.github.io/FHIR/cloudpak/','_self')">
                      <a href="https://ibm.github.io/FHIR/cloudpak/" >Documentation</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('https://ibm.github.io/FHIR/cloudpak/support/','_self')">
                      <a href="https://ibm.github.io/FHIR/cloudpak/support/" >Support</a>
                    </li>
                  

                  
                  
                  

                  




                  
                    <li class="masthead__menu-item " onclick="window.open('https://ibm.github.io/FHIR/cloudpak/search/','_self')">
                      <button aria-label="Search Button" role="button" id="searchButton" class="search__toggle " type="button" name="search Button">
                        <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path
                            d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z"
                            transform="translate(-.01)"></path>
                        </svg>
                      </button>
                    </li>
                  

                  
                </ul>
        

      </div>
    </div>
      </nav>
    </div>
  </div>
</div>


    <div id="initial-content" class="initial-content" role="main">





<main id="main" class="mainContainer" role="main">
    
      <div id="subMenu" class="subMenu">
        <div tabindex="0" class="menuIcon" id="menuIcon">
          <svg id="mobileMenu" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
            <g id="bottomLine">
              <line class="burgerLine" x1="14" y1="29" x2="34" y2="29" />
            </g>
            <g id="middleLine">
              <line class="burgerLine" x1="14" y1="24" x2="34" y2="24" />
            </g>
            <g id="topLine">
              <line class="burgerLine" x1="14" y1="19" x2="34" y2="19" />
            </g>
          </svg>
        </div>
        <div id="mobileVersionShortcut" class="versionContainer" tabindex="0">
          <a id="mobileVersionPillCurrent" class="versionPill">1.0</a>
        </div>
      </div>
    
  


  <div id="sidebarMask" class="sidebarMask">

  </div>
  <div id="sidebar" class="sidebar sticky">
      <div aria-label="Change Version" role="button" aria-expanded="false"
      
        id="versionDropdown"
        tabindex="0"
        class="versionsBar"
       >
          <div class="selectedVersion" id="selectedVersion">
            <div class="versionContainer" >
              
                <a id="versionPillCurrent" class="versionPill">1.0</a>
                <a class="versionChange">Change Version</a>
              
            </div>
          </div>
          


          <div class="allVersions" id="allVersions">
            <ul>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="https://ibm.github.io/FHIR/cloudpak/security/security-context-constraints/" onclick="openVersion('https://ibm.github.io/FHIR/cloudpak/security/security-context-constraints/','1.1')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="https://ibm.github.io/FHIR/cloudpak/security/security-context-constraints/" class="versionPill inactive">1.1</a>
                        </div>
                        <div class="activeContainer">
                            
                        </div>
                        <div class="latest">
                            Latest
                        </div>
                      </li>

                

                        


                    

                    <!--  -->

                    

                    


                    <li class="version" data-url="https://ibm.github.io/FHIR/cloudpak/1.0/security/security-context-constraints/" onclick="openVersion('https://ibm.github.io/FHIR/cloudpak/1.0/security/security-context-constraints/','1.0')">

                        <div class="pillContainer">
                          
                          <a tabindex="-1" href="https://ibm.github.io/FHIR/cloudpak/1.0/security/security-context-constraints/" class="versionPill active">1.0</a>
                        </div>
                        <div class="activeContainer">
                            
                            <img alt="" src="https://ibm.github.io/FHIR/cloudpak/images/checkbox.svg" />
                            
                        </div>
                        <div class="latest">
                            
                        </div>
                      </li>

                

            </ul>
          </div>
        </div>

  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <ul class="nav__items">

    
      <li>
        
          <span class="nav__sub-title">About</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/about/overview/" class="">Introduction</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/about/documentation/" class="">Documentation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/about/license/" class="">License</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing and upgrading</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/installing/prerequisites/" class="">Prerequisites</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/installing/installing/" class="">Installing</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/installing/air-gap-installation/" class="">Air Gap Installation</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/installing/creating/" class="">Creating an IBM FHIR Server</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/installing/tracking-license/" class="">Tracking License Usage</a>
            </li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/security/security/" class="">Security</a>
            </li>
          
            
            

            
            


      

            

            <li>


          

                    

              <a href="/FHIR/cloudpak/1.0/security/security-context-constraints/" class="active">SecurityContextConstraints Requirements</a>
            </li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="mainContent">
    
    <div id="pageContainer" class="page" itemscope itemtype="http://schema.org/CreativeWork">
      <div class="page__inner-wrap  latestVersion">
        
        <section class="page__content pageSpacing" itemprop="text">
          
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">
              SecurityContextConstraints Requirements
</h1>
            
          </header>
          
          <div class="content">
            <p>By default, the IBM FHIR Server Operator uses the <code class="language-plaintext highlighter-rouge">restricted</code> SecurityContextConstraints resource.</p>

<p>If desired, the following custom SecurityContextConstraints resource can be applied and used instead.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">security.openshift.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">SecurityContextConstraints</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">ibm-fhir-server-operator-scc</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="s">kubernetes.io/description</span><span class="pi">:</span> <span class="s">ibm-fhir-server-operator-scc denies access to all</span>
      <span class="s">host features and requires pods to be run with a UID, and SELinux context</span>
      <span class="s">that are allocated to the namespace, enforces readOnlyRootFilesystem, and</span>
      <span class="s">drops all capabilities.</span>
<span class="na">allowHostDirVolumePlugin</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowHostIPC</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowHostNetwork</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowHostPID</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowHostPorts</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowPrivilegeEscalation</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowPrivilegedContainer</span><span class="pi">:</span> <span class="no">false</span>
<span class="na">allowedCapabilities</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">defaultAddCapabilities</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">groups</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">fsGroup</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">MustRunAs</span>
<span class="na">priority</span><span class="pi">:</span> <span class="no">null</span>
<span class="na">readOnlyRootFilesystem</span><span class="pi">:</span> <span class="no">true</span>
<span class="na">requiredDropCapabilities</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">ALL</span>
<span class="na">runAsUser</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">MustRunAsRange</span>
<span class="na">seLinuxContext</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">MustRunAs</span>
<span class="na">supplementalGroups</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">RunAsAny</span>
<span class="na">users</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">volumes</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">configMap</span>
  <span class="pi">-</span> <span class="s">downwardAPI</span>
  <span class="pi">-</span> <span class="s">emptyDir</span>
  <span class="pi">-</span> <span class="s">persistentVolumeClaim</span>
  <span class="pi">-</span> <span class="s">projected</span>
  <span class="pi">-</span> <span class="s">secret</span>
</code></pre></div></div>

<p>To cause the IBM FHIR Server Operator to use the custom SecurityContextConstraints resource.</p>

<ol>
  <li>
    <p>Find the <code class="language-plaintext highlighter-rouge">ibm-fhir-server-operator-sa</code> ServiceAccount resource in the same namespace as the Operator.</p>
  </li>
  <li>
    <p>Add the following to the rules in the ClusterRole resource that the ServiceAccount resource is bound to, and apply.</p>
  </li>
</ol>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">apiGroups</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">security.openshift.io</span>
  <span class="na">resourceNames</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">ibm-fhir-server-operator-scc</span>
  <span class="na">resources</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">securitycontextconstraints</span>
  <span class="na">verbs</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">use</span>
</code></pre></div></div>

<ul>
  <li>The IBM FHIR Server Operator also creates custom ClusterRole, ClusterRoleBinding, Role, RoleBinding, SecurityContextConstraints, and ServiceAccount resources to ensure separation of duties.</li>
</ul>

          </div>


          
        </section>

        <aside class="sidebar__right ">
          
          <div class="fixedSidebar">
            <nav class="toc">
              
            </nav>
          </div>
          
        </aside>


      </div>
      <div class="pageEnd">
        
          
  <nav class="pagination">
    
      <div class="previous" onclick="window.open('/FHIR/cloudpak/1.0/security/security/','_self')">
        <div class="container">
          <a href="/FHIR/cloudpak/1.0/security/security/" class="pagination--pager" title="Previous Item: Security
">Previous</a>
          <h2 class="titlePreview">Security
</h2>
        </div>
      </div>
    
    
      <div class="next disabled">
        <div class="container">
          
        </div>
      </div>
    
  </nav>

        
      </div>
    </div>


  </div> <!-- Main content -->

</main></div>


    
      <div class="page__footer">
          <footer>
            <!-- start custom footer snippets -->

<!-- end custom footer snippets -->

            
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp;© Copyright IBM Corporation 2020, 2021</br>
  Released under the <a href="https://www.apache.org/licenses/LICENSE-2.0" rel="nofollow" target="_blank">Apache License v2.0</a></div>
<p> FHIR® is the registered trademark of HL7 and is used with the permission of HL7. Use of the FHIR trademark does not constitute endorsement of this product by HL7. IBM and the IBM logo are trademarks of International Business Machines
    Corporation, registered in many jurisdictions worldwide. Other product and service names might be trademarks of IBM or other companies. A current list of IBM trademarks is available on <a href="https://www.ibm.com/thought-leadership/trademark/" rel="nofollow" target="_blank">IBM Trademark.</a></p>

          </footer>
      </div>      
    


    
  <script src="/FHIR/cloudpak/assets/js/main.min.js"></script>
  <!-- <script src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script> -->






<script src="/FHIR/cloudpak/assets/js/design.js"></script>





<script src="/FHIR/cloudpak/assets/js/lunr/lunr.min.js"></script>
<script src="/FHIR/cloudpak/assets/js/lunr/lunr-store.js"></script>
<script src="/FHIR/cloudpak/assets/js/lunr/lunr-en.js"></script>





    

    
  </body>
</html>
