{
  "resourceType": "TestScript",
  "id": "testscript-example-multisystem",
  "text": {
    "status": "generated",
    "div": "\u003cdiv xmlns\u003d\"http://www.w3.org/1999/xhtml\"\u003e\u003cp\u003e\u003cb\u003eGenerated Narrative\u003c/b\u003e\u003c/p\u003e\u003cdiv style\u003d\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"\u003e\u003cp style\u003d\"margin-bottom: 0px\"\u003eResource \u0026quot;testscript-example-multisystem\u0026quot; \u003c/p\u003e\u003c/div\u003e\u003cp\u003e\u003cb\u003eurl\u003c/b\u003e: \u003ccode\u003ehttp://hl7.org/fhir/TestScript/testscript-example-multisystem\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eidentifier\u003c/b\u003e: id: urn:oid:1.3.6.1.4.1.21367.2005.3.7.9878\u003c/p\u003e\u003cp\u003e\u003cb\u003eversion\u003c/b\u003e: 1.0\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: testscript-example-multisystem\u003c/p\u003e\u003cp\u003e\u003cb\u003etitle\u003c/b\u003e: Multisystem Test Script\u003c/p\u003e\u003cp\u003e\u003cb\u003estatus\u003c/b\u003e: draft\u003c/p\u003e\u003cp\u003e\u003cb\u003eexperimental\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003edate\u003c/b\u003e: 2017-01-18\u003c/p\u003e\u003cp\u003e\u003cb\u003epublisher\u003c/b\u003e: HL7\u003c/p\u003e\u003cp\u003e\u003cb\u003econtact\u003c/b\u003e: Support: \u003ca href\u003d\"mailto:support@HL7.org\"\u003esupport@HL7.org\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: TestScript example resource showing use of origin and destination for multisystem support. The single origin will execute a Patient read against the two destination systems using user defined dynamic variables. The test engine will wait at each operation action with a defined origin and destination for the origin test system to send the expected FHIR operation to the destination test system. Once the expected request and response is observed, the test engine will continue with the test execution.\u003c/p\u003e\u003cp\u003e\u003cb\u003ejurisdiction\u003c/b\u003e: United States of America (the) \u003cspan style\u003d\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"\u003e (unknown#US)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003epurpose\u003c/b\u003e: Patient Read Operation\u003c/p\u003e\u003cp\u003e\u003cb\u003ecopyright\u003c/b\u003e: © HL7.org 2011+\u003c/p\u003e\u003ch3\u003eOrigins\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eIndex\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eProfile\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003e1\u003c/td\u003e\u003ctd\u003eFHIR-Client (Details: [not stated] code FHIR-Client \u003d \u0027FHIR-Client\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003edestination\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eindex\u003c/b\u003e: 1\u003c/p\u003e\u003cp\u003e\u003cb\u003eprofile\u003c/b\u003e: FHIR-Server (Details: [not stated] code FHIR-Server \u003d \u0027FHIR-Server\u0027, stated as \u0027null\u0027)\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003edestination\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003eindex\u003c/b\u003e: 2\u003c/p\u003e\u003cp\u003e\u003cb\u003eprofile\u003c/b\u003e: FHIR-Server (Details: [not stated] code FHIR-Server \u003d \u0027FHIR-Server\u0027, stated as \u0027null\u0027)\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003emetadata\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eLinks\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003e\u003ca href\u003d\"http://hl7.org/fhir/patient.html\"\u003ehttp://hl7.org/fhir/patient.html\u003c/a\u003e\u003c/td\u003e\u003ctd\u003eDemographics and other administrative information about an individual or animal receiving care or other health-related services.\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003ecapability\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003erequired\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003evalidated\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Patient Read Operation\u003c/p\u003e\u003cp\u003e\u003cb\u003eorigin\u003c/b\u003e: 1\u003c/p\u003e\u003cp\u003e\u003cb\u003edestination\u003c/b\u003e: 1\u003c/p\u003e\u003cp\u003e\u003cb\u003elink\u003c/b\u003e: \u003ca href\u003d\"http://hl7.org/fhir/http.html#read\"\u003ehttp://hl7.org/fhir/http.html#read\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ecapabilities\u003c/b\u003e: \u003ca href\u003d\"http://hl7.org/fhir/CapabilityStatement/example\"\u003ehttp://hl7.org/fhir/CapabilityStatement/example\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003ecapability\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003erequired\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003evalidated\u003c/b\u003e: false\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Patient Read Operation\u003c/p\u003e\u003cp\u003e\u003cb\u003eorigin\u003c/b\u003e: 1\u003c/p\u003e\u003cp\u003e\u003cb\u003edestination\u003c/b\u003e: 2\u003c/p\u003e\u003cp\u003e\u003cb\u003elink\u003c/b\u003e: \u003ca href\u003d\"http://hl7.org/fhir/http.html#read\"\u003ehttp://hl7.org/fhir/http.html#read\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ecapabilities\u003c/b\u003e: \u003ca href\u003d\"http://hl7.org/fhir/CapabilityStatement/example\"\u003ehttp://hl7.org/fhir/CapabilityStatement/example\u003c/a\u003e\u003c/p\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003evariable\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: Dest1PatientResourceId\u003c/p\u003e\u003cp\u003e\u003cb\u003edefaultValue\u003c/b\u003e: example\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003evariable\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: Dest2PatientResourceId\u003c/p\u003e\u003cp\u003e\u003cb\u003edefaultValue\u003c/b\u003e: example\u003c/p\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003etest\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: ReadPatient-Destination1\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Read a Patient from the first destination test system using the user defined dynamic variable ${Dest1PatientResourceId}. Perform basic validation.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eOperations\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eAccept\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDestination\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eEncodeRequestUrl\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOrigin\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eParams\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequestId\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eRead (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read \u003d \u0027Read\u0027, stated as \u0027null\u0027)\u003c/td\u003e\u003ctd\u003ePatient\u003c/td\u003e\u003ctd\u003eRead a Patient from the first destination test system and perform basic validation.\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003e1\u003c/td\u003e\u003ctd\u003etrue\u003c/td\u003e\u003ctd\u003e1\u003c/td\u003e\u003ctd\u003e/${Dest1PatientResourceId}\u003c/td\u003e\u003ctd\u003erequest-read-patient-01\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eRequestMethod\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the request method GET was sent by the client system under test.\u003c/td\u003e\u003ctd\u003eget\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eHeaderField\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValue\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the client requested an Accept of xml.\u003c/td\u003e\u003ctd\u003erequest\u003c/td\u003e\u003ctd\u003eAccept\u003c/td\u003e\u003ctd\u003econtains\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003eokay\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned format is XML.\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned resource type is Patient.\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003ePatient\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003etest\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003ename\u003c/b\u003e: ReadPatient-Destination2\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Read a Patient from the second destination test system using the user defined dynamic variable ${Dest2PatientResourceId}. Perform basic validation.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eoperation\u003c/b\u003e\u003c/p\u003e\u003cp\u003e\u003cb\u003etype\u003c/b\u003e: Read (Details: http://terminology.hl7.org/CodeSystem/testscript-operation-codes code read \u003d \u0027Read\u0027, stated as \u0027null\u0027)\u003c/p\u003e\u003cp\u003e\u003cb\u003eresource\u003c/b\u003e: Patient\u003c/p\u003e\u003cp\u003e\u003cb\u003edescription\u003c/b\u003e: Read a Patient from the second destination test system and perform basic validation.\u003c/p\u003e\u003cp\u003e\u003cb\u003eaccept\u003c/b\u003e: xml\u003c/p\u003e\u003cp\u003e\u003cb\u003econtentType\u003c/b\u003e: xml\u003c/p\u003e\u003cp\u003e\u003cb\u003edestination\u003c/b\u003e: 2\u003c/p\u003e\u003cp\u003e\u003cb\u003eencodeRequestUrl\u003c/b\u003e: true\u003c/p\u003e\u003cp\u003e\u003cb\u003eorigin\u003c/b\u003e: 1\u003c/p\u003e\u003cp\u003e\u003cb\u003eparams\u003c/b\u003e: /${Dest2PatientResourceId}\u003c/p\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eHeaderField\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eOperator\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eValue\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the client requested an Accept of xml.\u003c/td\u003e\u003ctd\u003erequest\u003c/td\u003e\u003ctd\u003eAccept\u003c/td\u003e\u003ctd\u003econtains\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResponse\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned HTTP status is 200(OK).\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003eokay\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eContentType\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned format is XML.\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003exml\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003cblockquote\u003e\u003cp\u003e\u003cb\u003eaction\u003c/b\u003e\u003c/p\u003e\u003ch3\u003eAsserts\u003c/h3\u003e\u003ctable class\u003d\"grid\"\u003e\u003ctr\u003e\u003ctd\u003e-\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDescription\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eDirection\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eResource\u003c/b\u003e\u003c/td\u003e\u003ctd\u003e\u003cb\u003eWarningOnly\u003c/b\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e*\u003c/td\u003e\u003ctd\u003eConfirm that the returned resource type is Patient.\u003c/td\u003e\u003ctd\u003eresponse\u003c/td\u003e\u003ctd\u003ePatient\u003c/td\u003e\u003ctd\u003efalse\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/blockquote\u003e\u003c/blockquote\u003e\u003c/div\u003e"
  },
  "url": "http://hl7.org/fhir/TestScript/testscript-example-multisystem",
  "identifier": {
    "system": "urn:ietf:rfc:3986",
    "value": "urn:oid:1.3.6.1.4.1.21367.2005.3.7.9878"
  },
  "version": "1.0",
  "name": "testscript-example-multisystem",
  "title": "Multisystem Test Script",
  "status": "draft",
  "experimental": true,
  "date": "2017-01-18",
  "publisher": "HL7",
  "contact": [
    {
      "name": "Support",
      "telecom": [
        {
          "system": "email",
          "value": "support@HL7.org",
          "use": "work"
        }
      ]
    }
  ],
  "description": "TestScript example resource showing use of origin and destination for multisystem support. The single origin will execute a Patient read against the two destination systems using user defined dynamic variables. The test engine will wait at each operation action with a defined origin and destination for the origin test system to send the expected FHIR operation to the destination test system. Once the expected request and response is observed, the test engine will continue with the test execution.",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US",
          "display": "United States of America (the)"
        }
      ]
    }
  ],
  "purpose": "Patient Read Operation",
  "copyright": "© HL7.org 2011+",
  "origin": [
    {
      "index": 1,
      "profile": {
        "code": "FHIR-Client"
      }
    }
  ],
  "destination": [
    {
      "index": 1,
      "profile": {
        "code": "FHIR-Server"
      }
    },
    {
      "index": 2,
      "profile": {
        "code": "FHIR-Server"
      }
    }
  ],
  "metadata": {
    "link": [
      {
        "url": "http://hl7.org/fhir/patient.html",
        "description": "Demographics and other administrative information about an individual or animal receiving care or other health-related services."
      }
    ],
    "capability": [
      {
        "required": true,
        "validated": false,
        "description": "Patient Read Operation",
        "origin": [
          1
        ],
        "destination": 1,
        "link": [
          "http://hl7.org/fhir/http.html#read"
        ],
        "capabilities": "http://hl7.org/fhir/CapabilityStatement/example"
      },
      {
        "required": true,
        "validated": false,
        "description": "Patient Read Operation",
        "origin": [
          1
        ],
        "destination": 2,
        "link": [
          "http://hl7.org/fhir/http.html#read"
        ],
        "capabilities": "http://hl7.org/fhir/CapabilityStatement/example"
      }
    ]
  },
  "variable": [
    {
      "name": "Dest1PatientResourceId",
      "defaultValue": "example"
    },
    {
      "name": "Dest2PatientResourceId",
      "defaultValue": "example"
    }
  ],
  "test": [
    {
      "id": "01-ReadPatient-Destination1",
      "name": "ReadPatient-Destination1",
      "description": "Read a Patient from the first destination test system using the user defined dynamic variable ${Dest1PatientResourceId}. Perform basic validation.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes",
              "code": "read"
            },
            "resource": "Patient",
            "description": "Read a Patient from the first destination test system and perform basic validation.",
            "accept": "xml",
            "contentType": "xml",
            "destination": 1,
            "encodeRequestUrl": true,
            "origin": 1,
            "params": "/${Dest1PatientResourceId}",
            "requestId": "request-read-patient-01"
          }
        },
        {
          "assert": {
            "description": "Confirm that the request method GET was sent by the client system under test.",
            "requestMethod": "get",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the client requested an Accept of xml.",
            "direction": "request",
            "headerField": "Accept",
            "operator": "contains",
            "value": "xml",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 200(OK).",
            "direction": "response",
            "response": "okay",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned format is XML.",
            "direction": "response",
            "contentType": "xml",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned resource type is Patient.",
            "direction": "response",
            "resource": "Patient",
            "warningOnly": false
          }
        }
      ]
    },
    {
      "id": "02-ReadPatient-Destination2",
      "name": "ReadPatient-Destination2",
      "description": "Read a Patient from the second destination test system using the user defined dynamic variable ${Dest2PatientResourceId}. Perform basic validation.",
      "action": [
        {
          "operation": {
            "type": {
              "system": "http://terminology.hl7.org/CodeSystem/testscript-operation-codes",
              "code": "read"
            },
            "resource": "Patient",
            "description": "Read a Patient from the second destination test system and perform basic validation.",
            "accept": "xml",
            "contentType": "xml",
            "destination": 2,
            "encodeRequestUrl": true,
            "origin": 1,
            "params": "/${Dest2PatientResourceId}",
            "requestHeader": [
              {
                "field": "Accept-Charset",
                "value": "utf-8"
              }
            ]
          }
        },
        {
          "assert": {
            "description": "Confirm that the client requested an Accept of xml.",
            "direction": "request",
            "headerField": "Accept",
            "operator": "contains",
            "value": "xml",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned HTTP status is 200(OK).",
            "direction": "response",
            "response": "okay",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned format is XML.",
            "direction": "response",
            "contentType": "xml",
            "warningOnly": false
          }
        },
        {
          "assert": {
            "description": "Confirm that the returned resource type is Patient.",
            "direction": "response",
            "resource": "Patient",
            "warningOnly": false
          }
        }
      ]
    }
  ]
}