{
    "resourceType": "StructureDefinition",
    "id": "de-Composition.status",
    "meta": {
        "lastUpdated": "2019-11-01T09:29:23.356+11:00"
    },
    "url": "http://hl7.org/fhir/StructureDefinition/de-Composition.status",
    "version": "4.0.1",
    "name": "Composition.status",
    "title": "Composition.status",
    "status": "draft",
    "experimental": true,
    "date": "2019-11-01T09:29:23+11:00",
    "publisher": "HL7 FHIR Standard",
    "contact": [
        {
            "telecom": [
                {
                    "system": "url",
                    "value": "http://hl7.org/fhir"
                }
            ]
        }
    ],
    "description": "Data Element for Composition.status",
    "purpose": "Data Elements are defined for each element to assist in questionnaire construction etc",
    "fhirVersion": "4.0.1",
    "mapping": [
        {
            "identity": "workflow",
            "uri": "http://hl7.org/fhir/workflow",
            "name": "Workflow Pattern"
        },
        {
            "identity": "rim",
            "uri": "http://hl7.org/v3",
            "name": "RIM Mapping"
        },
        {
            "identity": "cda",
            "uri": "http://hl7.org/v3/cda",
            "name": "CDA (R2)"
        },
        {
            "identity": "fhirdocumentreference",
            "uri": "http://hl7.org/fhir/documentreference",
            "name": "FHIR DocumentReference"
        },
        {
            "identity": "w5",
            "uri": "http://hl7.org/fhir/fivews",
            "name": "FiveWs Pattern Mapping"
        }
    ],
    "kind": "logical",
    "abstract": false,
    "type": "Composition.status",
    "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Element",
    "derivation": "specialization",
    "snapshot": {
        "element": [
            {
                "id": "Composition.status",
                "path": "Composition.status",
                "short": "preliminary | final | amended | entered-in-error",
                "definition": "The workflow/clinical status of this composition. The status is a marker for the clinical standing of the document.",
                "comment": "If a composition is marked as withdrawn, the compositions/documents in the series, or data from the composition or document series, should never be displayed to a user without being clearly marked as untrustworthy. The flag \"entered-in-error\" is why this element is labeled as a modifier of other elements.   \n\nSome reporting work flows require that the original narrative of a final document never be altered; instead, only new narrative can be added. The composition resource has no explicit status for explicitly noting whether this business rule is in effect. This would be handled by an extension if required.",
                "requirements": "Need to be able to mark interim, amended, or withdrawn compositions or documents.",
                "min": 1,
                "max": "1",
                "base": {
                    "path": "Composition.status",
                    "min": 1,
                    "max": "1"
                },
                "type": [
                    {
                        "code": "code"
                    }
                ],
                "isModifier": true,
                "isModifierReason": "This element is labelled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid",
                "isSummary": true,
                "binding": {
                    "extension": [
                        {
                            "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
                            "valueString": "CompositionStatus"
                        }
                    ],
                    "strength": "required",
                    "description": "The workflow/clinical status of the composition.",
                    "valueSet": "http://hl7.org/fhir/ValueSet/composition-status|4.0.1"
                },
                "mapping": [
                    {
                        "identity": "workflow",
                        "map": "Event.status"
                    },
                    {
                        "identity": "w5",
                        "map": "FiveWs.status"
                    },
                    {
                        "identity": "rim",
                        "map": "interim: .completionCode=\"IN\" & ./statusCode[isNormalDatatype()]=\"active\";  final: .completionCode=\"AU\" &&  ./statusCode[isNormalDatatype()]=\"complete\" and not(./inboundRelationship[typeCode=\"SUBJ\" and isNormalActRelationship()]/source[subsumesCode(\"ActClass#CACT\") and moodCode=\"EVN\" and domainMember(\"ReviseComposition\", code) and isNormalAct()]);  amended: .completionCode=\"AU\" &&  ./statusCode[isNormalDatatype()]=\"complete\" and ./inboundRelationship[typeCode=\"SUBJ\" and isNormalActRelationship()]/source[subsumesCode(\"ActClass#CACT\") and moodCode=\"EVN\" and domainMember(\"ReviseComposition\", code) and isNormalAct() and statusCode=\"completed\"];  withdrawn : .completionCode=NI &&  ./statusCode[isNormalDatatype()]=\"obsolete\""
                    },
                    {
                        "identity": "cda",
                        "map": "n/a"
                    },
                    {
                        "identity": "fhirdocumentreference",
                        "map": "DocumentReference.status"
                    }
                ]
            }
        ]
    }
}