{
  "__comment": "config for internal fhir-server deployments",
  "fhirServer": {
    "core": {
      "conditionalDeleteMaxNumber": 100,
      "defaultPrettyPrint": true,
      "serverRegistryResourceProviderEnabled": false,
      "ifNoneMatchReturnsNotModified": true
    },
    "resources": {
      "open": false,
      "AllergyIntolerance": {
        "searchParameters": {
          "clinical-status": "http://hl7.org/fhir/SearchParameter/AllergyIntolerance-clinical-status",
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "CarePlan": {
        "searchParameters": {
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "status": "http://hl7.org/fhir/SearchParameter/CarePlan-status",
          "category": "http://hl7.org/fhir/SearchParameter/CarePlan-category",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "CareTeam": {
        "searchParameters": {
          "status": "http://hl7.org/fhir/SearchParameter/CareTeam-status",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "CodeSystem": {
      },
      "Condition": {
        "searchParameters": {
          "onset-date": "http://hl7.org/fhir/SearchParameter/Condition-onset-date",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "clinical-status": "http://hl7.org/fhir/SearchParameter/Condition-clinical-status",
          "category": "http://hl7.org/fhir/SearchParameter/Condition-category",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "Consent": {
      },
      "Coverage": {
      },
      "Device": {
        "searchParameters": {
          "type": "http://hl7.org/fhir/SearchParameter/Device-type",
          "patient": "http://hl7.org/fhir/SearchParameter/Device-patient",
          "*": "*"
        }
      },
      "DiagnosticReport": {
        "searchParameters": {
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "status": "http://hl7.org/fhir/SearchParameter/DiagnosticReport-status",
          "category": "http://hl7.org/fhir/SearchParameter/DiagnosticReport-category",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "DocumentReference": {
        "searchParameters": {
          "_id": "http://hl7.org/fhir/SearchParameter/Resource-id",
          "period": "http://hl7.org/fhir/SearchParameter/DocumentReference-period",
          "date": "http://hl7.org/fhir/SearchParameter/DocumentReference-date",
          "status": "http://hl7.org/fhir/SearchParameter/DocumentReference-status",
          "category": "http://hl7.org/fhir/SearchParameter/DocumentReference-category",
          "type": "http://hl7.org/fhir/SearchParameter/clinical-type",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "Encounter": {
        "searchParameters": {
          "_id": "http://hl7.org/fhir/SearchParameter/Resource-id",
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "class": "http://hl7.org/fhir/SearchParameter/Encounter-class",
          "status": "http://hl7.org/fhir/SearchParameter/Encounter-status",
          "type": "http://hl7.org/fhir/SearchParameter/clinical-type",
          "identifier": "http://hl7.org/fhir/SearchParameter/clinical-identifier",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "ExplanationOfBenefit": {
        "searchParameters": {
          "identifier": "http://hl7.org/fhir/SearchParameter/ExplanationOfBenefit-identifier",
          "provider": "http://hl7.org/fhir/SearchParameter/ExplanationOfBenefit-provider",
          "patient": "http://hl7.org/fhir/SearchParameter/ExplanationOfBenefit-patient",
          "care-team": "http://hl7.org/fhir/SearchParameter/ExplanationOfBenefit-care-team",
          "coverage": "http://hl7.org/fhir/SearchParameter/ExplanationOfBenefit-coverage",
          "*": "*"
        }
      },
      "Goal": {
        "searchParameters": {
          "target-date": "http://hl7.org/fhir/SearchParameter/Goal-target-date",
          "lifecycle-status": "http://hl7.org/fhir/SearchParameter/Goal-lifecycle-status",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "Group": {
      },
      "Immunization": {
        "searchParameters": {
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "status": "http://hl7.org/fhir/SearchParameter/Immunization-status",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "List": {
      },
      "Location": {
        "searchParameters": {
          "address-postalcode": "http://hl7.org/fhir/SearchParameter/Location-address-postalcode",
          "address-city": "http://hl7.org/fhir/SearchParameter/Location-address-city",
          "address-state": "http://hl7.org/fhir/SearchParameter/Location-address-state",
          "name": "http://hl7.org/fhir/SearchParameter/Location-name",
          "address": "http://hl7.org/fhir/SearchParameter/Location-address",
          "*": "*"
        }
      },
      "Medication": {
      },
      "MedicationAdministration": {
      },
      "MedicationDispense": {
      },
      "MedicationRequest": {
        "searchParameters": {
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "status": "http://hl7.org/fhir/SearchParameter/medications-status",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "authoredon": "http://hl7.org/fhir/SearchParameter/MedicationRequest-authoredon",
          "intent": "http://hl7.org/fhir/SearchParameter/MedicationRequest-intent",
          "encounter": "http://hl7.org/fhir/SearchParameter/medications-encounter",
          "*": "*"
        }
      },
      "MedicationStatement": {
      },
      "Observation": {
        "searchParameters": {
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "status": "http://hl7.org/fhir/SearchParameter/Observation-status",
          "category": "http://hl7.org/fhir/SearchParameter/Observation-category",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "Organization": {
        "searchParameters": {
          "name": "http://hl7.org/fhir/SearchParameter/Organization-name",
          "address": "http://hl7.org/fhir/SearchParameter/Organization-address",
          "*": "*"
        }
      },
      "Patient": {
        "searchParameters": {
          "_id": "http://hl7.org/fhir/SearchParameter/Resource-id",
          "birthdate": "http://hl7.org/fhir/SearchParameter/individual-birthdate",
          "family": "http://hl7.org/fhir/SearchParameter/individual-family",
          "name": "http://hl7.org/fhir/SearchParameter/Patient-name",
          "given": "http://hl7.org/fhir/SearchParameter/individual-given",
          "identifier": "http://hl7.org/fhir/SearchParameter/Patient-identifier",
          "gender": "http://hl7.org/fhir/SearchParameter/individual-gender",
          "*": "*"
        }
      },
      "Practitioner": {
        "searchParameters": {
          "name": "http://hl7.org/fhir/SearchParameter/Practitioner-name",
          "identifier": "http://hl7.org/fhir/SearchParameter/Practitioner-identifier",
          "*": "*"
        }
      },
      "PractitionerRole": {
        "searchParameters": {
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "practitioner": "http://hl7.org/fhir/SearchParameter/PractitionerRole-practitioner",
          "specialty": "http://hl7.org/fhir/SearchParameter/PractitionerRole-specialty",
          "*": "*"
        }
      },
      "Procedure": {
        "searchParameters": {
          "date": "http://hl7.org/fhir/SearchParameter/clinical-date",
          "code": "http://hl7.org/fhir/SearchParameter/clinical-code",
          "status": "http://hl7.org/fhir/SearchParameter/Procedure-status",
          "patient": "http://hl7.org/fhir/SearchParameter/clinical-patient",
          "*": "*"
        }
      },
      "Provenance": {
      },
      "StructureDefinition": {
      },
      "ValueSet": {
      },
      "Resource": {
        "searchParameters": {
          "_id": "http://hl7.org/fhir/SearchParameter/Resource-id",
          "_lastUpdated": "http://hl7.org/fhir/SearchParameter/Resource-lastUpdated",
          "_profile": "http://hl7.org/fhir/SearchParameter/Resource-profile",
          "_security": "http://hl7.org/fhir/SearchParameter/Resource-security",
          "_source": "http://hl7.org/fhir/SearchParameter/Resource-source",
          "_tag": "http://hl7.org/fhir/SearchParameter/Resource-tag"
        }
      }
    },
    "security": {
      "cors": true,
      "basic": {
        "enabled": false
      },
      "certificates": {
        "enabled": false,
        "authFilter": {
          "enabled": false,
          "authorizedClientCertClientCN": "",
          "authorizedClientCertIssuerOU": ""
        }
      },
      "oauth": {
        "enabled": true,
        "regUrl": "https://<host>/auth/realms/master/clients-registrations/openid-connect",
        "authUrl": "https://<host>/auth/realms/master/protocol/openid-connect/auth",
        "tokenUrl": "https://<host>/auth/realms/master/protocol/openid-connect/token",
        "smart": {
          "enabled": true,
          "scopes": ["openid", "profile", "fhirUser", "launch/patient", "offline_access",
            "patient/*.read",
            "patient/AllergyIntolerance.read",
            "patient/CarePlan.read",
            "patient/CareTeam.read",
            "patient/Condition.read",
            "patient/Device.read",
            "patient/DiagnosticReport.read",
            "patient/DocumentReference.read",
            "patient/Encounter.read",
            "patient/ExplanationOfBenefit.read",
            "patient/Goal.read",
            "patient/Immunization.read",
            "patient/Location.read",
            "patient/Medication.read",
            "patient/MedicationRequest.read",
            "patient/Observation.read",
            "patient/Organization.read",
            "patient/Patient.read",
            "patient/Practitioner.read",
            "patient/PractitionerRole.read",
            "patient/Procedure.read",
            "patient/Provenance.read",
            "patient/RelatedPerson.read"],
          "capabilities": [
            "sso-openid-connect",
            "launch-standalone",
            "client-public",
            "client-confidential-symmetric",
            "permission-offline",
            "context-standalone-patient",
            "permission-patient"
          ]
        }
      }
    },
    "audit": {
      "serviceClassName": "org.linuxforhealth.fhir.audit.impl.NopService",
      "serviceProperties": {
      }
    },
    "persistence": {
      "factoryClassname": "org.linuxforhealth.fhir.persistence.blob.FHIRPersistenceJDBCBlobFactory",
      "datasources": {
        "default": {
          "type": "postgresql",
          "currentSchema": "fhirdata"
        }
      },
      "payload": {
        "default": {
            "__comment": "Azure Blob (azurite docker) configuration for storing FHIR resource payload data",
            "type": "azure.blob",
            "connectionProperties" : {
                "connectionString": "DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://azurite:10000/devstoreaccount1;",
                "containerName": "default"
            }
        }
      }
    },
    "bulkdata": {
      "enabled": true,
      "core": {
        "api": {
          "url": "https://localhost:9443/ibm/api/batch",
          "user": "fhiradmin",
          "password": "change-password",
          "truststore": "resources/security/fhirTrustStore.p12",
          "truststorePassword": "change-password",
          "trustAll": true
        }
      },
      "storageProviders": {
        "default" : {
          "type": "azure-blob",
          "bucketName": "bulkdata",
          "auth": {
            "type": "connection",
            "connection": "DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://azurite:10000/devstoreaccount1;"
          },
          "disableOperationOutcomes": true,
          "duplicationCheck": false,
          "validateResources": false,
          "create": false
        }
      }
    },
    "operations": {
      "erase": {
        "enabled": true,
        "allowedRoles": [
            "FHIROperationAdmin",
            "FHIRUsers"
        ]
      }
    }
  }
}
