{"version":3,"sources":["webpack:///./src/pages/MustGather.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"s2BAQO,IAAMA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,EACF,OACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,sEACA,sBACE,kBAAIC,WAAW,MACb,iBAAGA,WAAW,MAAd,ySASF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kSAKA,iBAAGA,WAAW,MAAd,2MAGA,iBAAGA,WAAW,MAAd,oUAKF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,2KACiD,0BAAYA,WAAW,KAAvB,qCAGrD,6DACA,8EAA6D,kBAAIA,WAAW,KAAf,4BAA7D,0BAA4I,0BAAYA,WAAW,KAAvB,sBAA5I,+GACA,mHAAkG,0BAAYA,WAAW,KAAvB,kBAAlG,gGACA,sBACE,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,wGAEF,kBAAIA,WAAW,MACb,iBAAGA,WAAW,MAAd,kDAGJ,uBAAK,oBAAMA,WAAW,OAAjB,+BAEL,sBACE,kBAAIA,WAAW,MAAf,+CAEF,uBAAK,oBAAMA,WAAW,OAAjB,qCAEL,sBACE,kBAAIA,WAAW,MAAf,4CAEF,uBAAK,oBAAMA,WAAW,OAAjB,yDAEL,sBACE,kBAAIA,WAAW,MAAf,+CAEF,uBAAK,oBAAMA,WAAW,OAAjB,+CAEL,sBACE,kBAAIA,WAAW,MAAf,iDAEF,uBAAK,oBAAMA,WAAW,OAAjB,iFAEL,sBACE,kBAAIA,WAAW,MAAf,gCAEF,uBAAK,oBAAMA,WAAW,OAAjB,sDAEL,sBACE,kBAAIA,WAAW,MAAf,iDAEF,uBAAK,oBAAMA,WAAW,OAAjB,8CAEL,sBACE,kBAAIA,WAAW,MAAf,2EAEF,uBAAK,oBAAMA,WAAW,OAAjB,oJAGL,sBACE,kBAAIA,WAAW,MAAf,4IAEF,uBAAK,oBAAMA,WAAW,OAAjB,yBAEL,sBACE,kBAAIA,WAAW,MAAf,uFAEF,uBAAK,oBAAMA,WAAW,OAAjB,6EAEL,sBACE,kBAAIA,WAAW,MAAf,iGAEF,uBAAK,oBAAMA,WAAW,OAAjB,oDAEL,sBACE,kBAAIA,WAAW,MAAf,yCAEF,uBAAK,oBAAMA,WAAW,OAAjB,0EAEL,sBACE,kBAAIA,WAAW,MAAf,2BAEF,uBAAK,oBAAMA,WAAW,OAAjB,qBAEL,oEACA,uBAAK,oBAAMA,WAAW,OAAjB,gFAEL,uGACA,uBAAK,oBAAMA,WAAW,OAAjB,uGAGL,gJAKJJ,EAAWK,gBAAiB","file":"component---src-pages-must-gather-md-b2b6078c219944b39035.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/FHIR/FHIR/fhir/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`The IBM FHIR Server - Must-Gather Information`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Which environment did the problem occur in?\na. Kubernetes Version (IKS, ROKS)\nb. If not one of the standard environments,\nPlease indicate the Operating System and java version in use\nOS:  Windows/Linux/Mac\nJava: (output of “java -fullversion”)\nc. The IBM FHIR Version\nd. Docker Version`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Describe the problem as clearly as you can. Be sure to include:\na. Steps to reproduce the problem\nb. The actual REST API URL strings (rather than placeholders copied from a test plan, etc.)\ne.g. https://hostname/fhir-server/api/v4\nOnly provide as appropriate for sharing publically.`}</p>\n        <p parentName=\"li\">{`c. Full stacktraces (include all “caused by” clauses)\nd. The error messages from liberty’s messages.log file that are related to the problem\ne. Contents of any applicable FHIR resources (avoid PHI)`}</p>\n        <p parentName=\"li\">{`Note: As part of an error response, the IBM FHIR Server typically returns\nan OperationOutcome in the HTTP response, and the error message contains\na “probeId=xxx” value.   You can search for this probeId value within the messages.log\nand/or trace.log to find the matching server-side messages related to the problem.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If possible, please include a trace.log (or snippet) which shows the server activity when the problem occurred.\nThe liberty “traceSpecification” string should include `}<inlineCode parentName=\"p\">{`org.linuxforhealth.fhir.*=fine`}</inlineCode></p>\n      </li>\n    </ol>\n    <h1>{`Gathering logs on Red Hat OpenShift`}</h1>\n    <p>{`To help IBM Support troubleshoot any issues with your `}<em parentName=\"p\">{`IBM FHIR Server instance`}</em>{` on OpenShift, use the `}<inlineCode parentName=\"p\">{`oc adm must-gather`}</inlineCode>{` command to capture the must gather logs. The logs are stored in a folder in the current working directory.`}</p>\n    <p>{`To gather diagnostic logs, run the following commands as Cluster Administrator and replace `}<inlineCode parentName=\"p\">{`YOUR_NAMESPACE`}</inlineCode>{` with your namespace that the IBM FHIR Server and the IBM FHIR Server Schematool is running.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the oc CLI.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Provide the output of the OpenShift version.`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc version > version.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Provide the output of the Kubectl version.`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`kubectl version >> version.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Collection information about the nodes.`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get nodes -o wide -n YOUR_NAMESPACE > nodes.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Collect information about the pod statuses`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get pods -n YOUR_NAMESPACE > pods.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Collect information about the pod containers`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get pods -o jsonpath=\"{..image}\"  -n YOUR_NAMESPACE > containerInfo.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Collect the defined secrets`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get secrets  -n YOUR_NAMESPACE > secrets.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Collect the defined persistent volume claims`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get pvc -n YOUR_NAMESPACE > pvcs.txt\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Collect the description and log of any pod you are having issues with:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc describe pod YOUR_POD_NAME -n YOUR_NAMESPACE > describe-YOUR_POD_NAME.txt\noc logs YOUR_POD_NAME -n YOUR_NAMESPACE > log-YOUR_POD_NAME.log\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`The oc adm must-gather CLI command collects the information from your cluster that is most likely needed for debugging issues, such as:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm must-gather\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`To obtain your cluster ID using the OpenShift CLI (oc), run the following command:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc get clusterversion -o jsonpath='{.items[].spec.clusterID}{\"\\\\n\"}'\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Provide the Custom Resource(CR) .yaml file used by the operator to configure the environment`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`kubectl get YOUR_CONFIG -o yaml > config.yaml\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Obtain detailed description of a pod`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc describe pod -n YOUR_NAMESPACE POD_NAME &> POD_NAME_describe.log\n`}</code></pre>\n    <ol>\n      <li parentName=\"ol\">{`Run the oc adm inspect`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`oc adm inspect\n`}</code></pre>\n    <p>{`Executing commands/bash shell inside a pod:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc exec [flags] -n YOUR_NAMESPACE POD [-c CONTAINER] -- COMMAND [args...]\n`}</code></pre>\n    <p>{`Example: to run a bash shell within the pod and tail the liberty messages.log:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`     oc exec -ti  ibmfhirserver-as6jql -- /bin/bash \n     bash-4.2$ tail -f /logs/messages.log \n`}</code></pre>\n    <p>{`Provide the data to your support team. Note, please review and redact any sensistive data before posting in any issue.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}